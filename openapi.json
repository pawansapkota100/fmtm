{"openapi":"3.1.0","info":{"title":"FMTM","description":"HOTOSM Field Tasking Manager","license":{"name":"GPL-3.0-only","url":"https://raw.githubusercontent.com/hotosm/fmtm/main/LICENSE.md"},"version":"2024.0.0"},"paths":{"/users/":{"get":{"tags":["users"],"summary":"Get Users","description":"Get all user details.","operationId":"get_users_users__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserOut"},"title":"Response Get Users Users  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{id}":{"get":{"tags":["users"],"summary":"Get User By Identifier","description":"Get a single users details.\n\nThe OSM ID should be used.\nIf this is not known, the endpoint falls back to searching\nfor the username.","operationId":"get_user_by_identifier_users__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/user-role-options/":{"get":{"tags":["users"],"summary":"Get User Roles","description":"Check for available user role options.","operationId":"get_user_roles_users_user_role_options__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/projects/":{"get":{"tags":["projects"],"summary":"Read Projects","description":"Return all projects.","operationId":"read_projects_projects__get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectOut"},"title":"Response Read Projects Projects  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/details/{project_id}/":{"get":{"tags":["projects"],"summary":"Get Projet Details","description":"Returns the project details.\n\nAlso includes ODK project details, so takes extra time to return.\n\nParameters:\n    project_id: int\n\nReturns:\n    Response: Project details.","operationId":"get_projet_details_projects_details__project_id___get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/near_me":{"post":{"tags":["projects"],"summary":"Get Tasks Near Me","description":"Get projects near me.\n\nTODO to be implemented in future.","operationId":"get_tasks_near_me_projects_near_me_post","parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","title":"Lat"}},{"name":"long","in":"query","required":true,"schema":{"type":"number","title":"Long"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectSummary"},"title":"Response Get Tasks Near Me Projects Near Me Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/summaries":{"get":{"tags":["projects"],"summary":"Read Project Summaries","description":"Get a paginated summary of projects.","operationId":"read_project_summaries_projects_summaries_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}},{"name":"hashtags","in":"query","required":false,"schema":{"type":"string","title":"Hashtags"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProjectSummaries"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/search_projects":{"get":{"tags":["projects"],"summary":"Search Project","description":"Search projects by string, hashtag, or other criteria.","operationId":"search_project_projects_search_projects_get","parameters":[{"name":"search","in":"query","required":true,"schema":{"type":"string","title":"Search"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}},{"name":"hashtags","in":"query","required":false,"schema":{"type":"string","title":"Hashtags"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProjectSummaries"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}":{"get":{"tags":["projects"],"summary":"Read Project","description":"Get a specific project by ID.","operationId":"read_project_projects__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadProject"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["projects"],"summary":"Delete Project","description":"Delete a project from both ODK Central and the local database.","operationId":"delete_project_projects__project_id__delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["projects"],"summary":"Update Project","description":"Update an existing project by ID.\n\nNote: the entire project JSON must be uploaded.\nIf a partial update is required, use the PATCH method instead.\n\nParameters:\n- id: ID of the project to update\n- project_info: Updated project information\n- current_user (DbUser): Check if user is project_admin\n\nReturns:\n- Updated project information\n\nRaises:\n- HTTPException with 404 status code if project not found","operationId":"update_project_projects__project_id__put","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["projects"],"summary":"Project Partial Update","description":"Partial Update an existing project by ID.\n\nParameters:\n- id\n- name\n- short_description\n- description\n\nReturns:\n- Updated project information\n\nRaises:\n- HTTPException with 404 status code if project not found","operationId":"project_partial_update_projects__project_id__patch","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectPartialUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/create_project":{"post":{"tags":["projects"],"summary":"Create Project","description":"Create a project in ODK Central and the local database.\n\nThe org_id and project_id params are inherited from the org_admin permission.\nEither param can be passed to determine if the user has admin permission\nto the organisation (or organisation associated with a project).\n\nTODO refactor to standard REST POST to /projects\nTODO but first check doesn't break other endpoints","operationId":"create_project_projects_create_project_post","parameters":[{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/upload_xlsform":{"post":{"tags":["projects"],"summary":"Upload Custom Xls","description":"Upload a custom XLSForm to the database.\n\nArgs:\n    upload (UploadFile): the XLSForm file\n    category (str): the category of the XLSForm.\n    db (Session): the DB session, provided automatically.\n    current_user (DbUser): Check if user is super_admin","operationId":"upload_custom_xls_projects_upload_xlsform_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_custom_xls_projects_upload_xlsform_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/upload-task-boundaries":{"post":{"tags":["projects"],"summary":"Upload Project Task Boundaries","description":"Set project task boundaries using split GeoJSON from frontend.\n\nEach polygon in the uploaded geojson are made into single task.\n\nRequired Parameters:\n    project_id (id): ID for associated project.\n    task_geojson (UploadFile): Multi-polygon GeoJSON file.\n\nReturns:\n    dict: JSON containing success message, project ID, and number of tasks.","operationId":"upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/task-split":{"post":{"tags":["projects"],"summary":"Task Split","description":"Split a task into subtasks.\n\nArgs:\n    project_geojson (UploadFile): The geojson to split.\n        Should be a FeatureCollection.\n    extract_geojson (UploadFile, optional): Custom data extract geojson\n        containing osm features (should be a FeatureCollection).\n        If not included, an extract is generated automatically.\n    no_of_buildings (int, optional): The number of buildings per subtask.\n        Defaults to 50.\n    db (Session, optional): The database session. Injected by FastAPI.\n\nReturns:\n    The result of splitting the task into subtasks.","operationId":"task_split_projects_task_split_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_task_split_projects_task_split_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/upload":{"post":{"tags":["projects"],"summary":"Upload Project Boundary","description":"Uploads the project boundary. The boundary is uploaded as a geojson file.\n\nArgs:\n    project_id (int): The ID of the project to update.\n    boundary_geojson (UploadFile): The boundary file to upload.\n    dimension (int): The new dimension of the project.\n    db (Session): The database session to use.\n    org_user_dict (AuthUser): Check if user is org_admin.\n\nReturns:\n    dict: JSON with message, project ID, and task count for project.","operationId":"upload_project_boundary_projects__project_id__upload_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_project_boundary_projects__project_id__upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/edit_project_boundary/{project_id}/":{"post":{"tags":["projects"],"summary":"Edit Project Boundary","description":"Edit the existing project boundary.","operationId":"edit_project_boundary_projects_edit_project_boundary__project_id___post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_edit_project_boundary_projects_edit_project_boundary__project_id___post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/validate_form":{"post":{"tags":["projects"],"summary":"Validate Form","description":"Tests the validity of the xls form uploaded.\n\nParameters:\n    - form: The xls form to validate","operationId":"validate_form_projects_validate_form_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_validate_form_projects_validate_form_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/generate-project-data":{"post":{"tags":["projects"],"summary":"Generate Files","description":"Generate additional content to initialise the project.\n\nBoundary, ODK Central forms, QR codes, etc.\n\nAccepts a project ID, category, custom form flag, and an uploaded file as inputs.\nThe generated files are associated with the project ID and stored in the database.\nThis api generates odk appuser tokens, forms. This api also creates an app user for\neach task and provides the required roles.\nSome of the other functionality of this api includes converting a xls file\nprovided by the user to the xform, generates osm data extracts and uploads\nit to the form.\n\nArgs:\n    background_tasks (BackgroundTasks): FastAPI bg tasks, provided automatically.\n    project_id (int): The ID of the project for which files are being generated.\n    xls_form_upload (UploadFile, optional): A custom XLSForm to use in the project.\n        A file should be provided if user wants to upload a custom xls form.\n    db (Session): Database session, provided automatically.\n    org_user_dict (AuthUser): Current logged in user. Must be org admin.\n\nReturns:\n    json (JSONResponse): A success message containing the project ID.","operationId":"generate_files_projects__project_id__generate_project_data_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_generate_files_projects__project_id__generate_project_data_post"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/update-form/{project_id}":{"post":{"tags":["projects"],"summary":"Update Project Form","description":"Update XLSForm for a project.","operationId":"update_project_form_projects_update_form__project_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_project_form_projects_update_form__project_id__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/features":{"get":{"tags":["projects"],"summary":"Get Project Features","description":"Fetch all the features for a project.\n\nThe features are generated from raw-data-api.\n\nArgs:\n    project_id (int): The project id.\n    task_id (int): The task id.\n    db (Session): the DB session, provided automatically.\n\nReturns:\n    feature(json): JSON object containing a list of features","operationId":"get_project_features_projects__project_id__features_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"task_id","in":"query","required":false,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GeojsonFeature"},"title":"Response Get Project Features Projects  Project Id  Features Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/generate-log/":{"get":{"tags":["projects"],"summary":"Generate Log","description":"Get the contents of a log file in a log format.\n\n### Response\n- **200 OK**: Returns the contents of the log file in a log format.\n    Each line is separated by a newline character \"\\n\".\n\n- **500 Internal Server Error**: Returns an error message if the log file\n    cannot be generated.\n\n### Return format\nTask Status and Logs are returned in a JSON format.","operationId":"generate_log_projects_generate_log__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"uuid","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Uuid"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/categories/":{"get":{"tags":["projects"],"summary":"Get Categories","description":"Get api for fetching all the categories.\n\nThis endpoint fetches all the categories from osm_fieldwork.\n\n## Response\n- Returns a JSON object containing a list of categories and their respoective forms.","operationId":"get_categories_projects_categories__get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/preview-split-by-square/":{"post":{"tags":["projects"],"summary":"Preview Split By Square","description":"Preview splitting by square.\n\nTODO update to use a response_model","operationId":"preview_split_by_square_projects_preview_split_by_square__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_preview_split_by_square_projects_preview_split_by_square__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/generate-data-extract/":{"post":{"tags":["projects"],"summary":"Get Data Extract","description":"Get a new data extract for a given project AOI.\n\nTODO allow config file (YAML/JSON) upload for data extract generation\nTODO alternatively, direct to raw-data-api to generate first, then upload","operationId":"get_data_extract_projects_generate_data_extract__post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_get_data_extract_projects_generate_data_extract__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/data-extract-url/":{"get":{"tags":["projects"],"summary":"Get Or Set Data Extract","description":"Get or set the data extract URL for a project.","operationId":"get_or_set_data_extract_projects_data_extract_url__get","parameters":[{"name":"url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/upload-custom-extract/":{"post":{"tags":["projects"],"summary":"Upload Custom Extract","description":"Upload a custom data extract geojson for a project.\n\nRequest Body\n- 'custom_extract_file' (file): Geojson files with the features. Required.\n\nQuery Params:\n- 'project_id' (int): the project's id. Required.","operationId":"upload_custom_extract_projects_upload_custom_extract__post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_custom_extract_projects_upload_custom_extract__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/download_form/{project_id}/":{"get":{"tags":["projects"],"summary":"Download Form","description":"Download the XLSForm for a project.","operationId":"download_form_projects_download_form__project_id___get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/update_category":{"post":{"tags":["projects"],"summary":"Update Project Category","description":"Update the XLSForm category for a project.\n\nNot valid for custom form uploads.","operationId":"update_project_category_projects_update_category_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_project_category_projects_update_category_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/download_template/":{"get":{"tags":["projects"],"summary":"Download Template","description":"Download an XLSForm template to fill out.","operationId":"download_template_projects_download_template__get","parameters":[{"name":"category","in":"query","required":true,"schema":{"type":"string","title":"Category"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/download":{"get":{"tags":["projects"],"summary":"Download Project Boundary","description":"Downloads the boundary of a project as a GeoJSON file.\n\nArgs:\n    project_id (int): The id of the project.\n    db (Session): The database session, provided automatically.\n    current_user (AuthUser): Check if user is mapper.\n\nReturns:\n    Response: The HTTP response object containing the downloaded file.","operationId":"download_project_boundary_projects__project_id__download_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/download_tasks":{"get":{"tags":["projects"],"summary":"Download Task Boundaries","description":"Downloads the boundary of the tasks for a project as a GeoJSON file.\n\nArgs:\n    project_id (int): The id of the project.\n    db (Session): The database session, provided automatically.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    Response: The HTTP response object containing the downloaded file.","operationId":"download_task_boundaries_projects__project_id__download_tasks_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/features/download/":{"get":{"tags":["projects"],"summary":"Download Features","description":"Downloads the features of a project as a GeoJSON file.\n\nArgs:\n    project_id (int): The id of the project.\n    db (Session): The database session, provided automatically.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    Response: The HTTP response object containing the downloaded file.","operationId":"download_features_projects_features_download__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/tiles/{project_id}":{"get":{"tags":["projects"],"summary":"Generate Project Tiles","description":"Returns basemap tiles for a project.\n\nArgs:\n    background_tasks (BackgroundTasks): FastAPI bg tasks, provided automatically.\n    project_id (int): ID of project to create tiles for.\n    source (str): Tile source (\"esri\", \"bing\", \"topo\", \"google\", \"oam\").\n    format (str, optional): Default \"mbtiles\". Other options: \"pmtiles\", \"sqlite3\".\n    tms (str, optional): Default None. Custom TMS provider URL.\n    db (Session): The database session, provided automatically.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    str: Success message that tile generation started.","operationId":"generate_project_tiles_projects_tiles__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"source","in":"query","required":true,"schema":{"type":"string","description":"Select a source for tiles","enum":["esri","bing","google","topo"],"title":"Source"},"description":"Select a source for tiles"},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Select an output format","enum":["mbtiles","sqlitedb","sqlite3","sqlite","pmtiles"],"default":"mbtiles","title":"Format"},"description":"Select an output format"},{"name":"tms","in":"query","required":false,"schema":{"type":"string","description":"Provide a custom TMS URL, optional","title":"Tms"},"description":"Provide a custom TMS URL, optional"},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/tiles_list/{project_id}/":{"get":{"tags":["projects"],"summary":"Tiles List","description":"Returns the list of tiles for a project.\n\nParameters:\n    project_id: int\n    db (Session): The database session, provided automatically.\n    current_user (AuthUser): Check if user is logged in.\n\nReturns:\n    Response: List of generated tiles for a project.","operationId":"tiles_list_projects_tiles_list__project_id___get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/download_tiles/":{"get":{"tags":["projects"],"summary":"Download Tiles","description":"Download the basemap tile archive for a project.","operationId":"download_tiles_projects_download_tiles__get","parameters":[{"name":"tile_id","in":"query","required":true,"schema":{"type":"integer","title":"Tile Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/boundary_in_osm/{project_id}/":{"get":{"tags":["projects"],"summary":"Download Task Boundary Osm","description":"Downloads the boundary of a task as a OSM file.\n\nArgs:\n    project_id (int): The id of the project.\n    db (Session): The database session, provided automatically.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    Response: The HTTP response object containing the downloaded file.","operationId":"download_task_boundary_osm_projects_boundary_in_osm__project_id___get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/centroid/":{"get":{"tags":["projects"],"summary":"Project Centroid","description":"Get a centroid of each projects.\n\nParameters:\n    project_id (int): The ID of the project.\n    db (Session): The database session, provided automatically.\n\nReturns:\n    list[tuple[int, str]]: A list of tuples containing the task ID and\n        the centroid as a string.","operationId":"project_centroid_projects_centroid__get","parameters":[{"name":"project_id","in":"query","required":false,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/task-status/{uuid}":{"get":{"tags":["projects"],"summary":"Get Task Status","description":"Get the background task status by passing the task UUID.","operationId":"get_task_status_projects_task_status__uuid__get","parameters":[{"name":"task_uuid","in":"query","required":true,"schema":{"type":"string","title":"Task Uuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackgroundTaskStatus"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/templates/":{"get":{"tags":["projects"],"summary":"Get Template File","description":"Get template file.\n\nArgs: file_type: Type of template file.\n\nreturns: Requested file as a FileResponse.","operationId":"get_template_file_projects_templates__get","parameters":[{"name":"file_type","in":"query","required":true,"schema":{"type":"string","description":"Choose file type","enum":["data_extracts","form"],"title":"File Type"},"description":"Choose file type"},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/project_dashboard/{project_id}":{"get":{"tags":["projects"],"summary":"Project Dashboard","description":"Get the project dashboard details.\n\nArgs:\n    background_tasks (BackgroundTasks): FastAPI bg tasks, provided automatically.\n    db_project (db_models.DbProject): An instance of the project.\n    db_organisation (db_models.DbOrganisation): An instance of the organisation.\n    db (Session): The database session.\n\nReturns:\n    ProjectDashboard: The project dashboard details.","operationId":"project_dashboard_projects_project_dashboard__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDashboard"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/contributors/{project_id}":{"get":{"tags":["projects"],"summary":"Get Contributors","description":"Get contributors of a project.\n\nArgs:\n    project_id (int): ID of project.\n    db (Session): The database session.\n    current_user (AuthUser): Check if user is mapper.\n\nReturns:\n    list[project_schemas.ProjectUser]: List of project users.","operationId":"get_contributors_projects_contributors__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/add_admin/":{"post":{"tags":["projects"],"summary":"Add New Project Admin","description":"Add a new project manager.\n\nThe logged in user must be either the admin of the organisation or a super admin.","operationId":"add_new_project_admin_projects_add_admin__post","parameters":[{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"user_id","in":"query","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"integer"}],"title":"User Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/task-list":{"get":{"tags":["tasks"],"summary":"Read Task List","description":"Get the task list for a project.","operationId":"read_task_list_tasks_task_list_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":1000,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReadTask"},"title":"Response Read Task List Tasks Task List Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/":{"get":{"tags":["tasks"],"summary":"Read Tasks","description":"Get all task details, either for a project or user.","operationId":"read_tasks_tasks__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":1000,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"},"title":"Response Read Tasks Tasks  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/point_on_surface":{"get":{"tags":["tasks"],"summary":"Get Point On Surface","description":"Get a point on the surface of the geometry for each task of the project.\n\nParameters:\n    project_id (int): The ID of the project.\n\nReturns:\n    List[Tuple[int, str]]: A list of tuples containing the task ID\n        and the centroid as a string.","operationId":"get_point_on_surface_tasks_point_on_surface_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/near_me":{"post":{"tags":["tasks"],"summary":"Get Tasks Near Me","description":"Get tasks near the requesting user.","operationId":"get_tasks_near_me_tasks_near_me_post","parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","title":"Lat"}},{"name":"long","in":"query","required":true,"schema":{"type":"number","title":"Long"}},{"name":"project_id","in":"query","required":false,"schema":{"type":"integer","title":"Project Id"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get Specific Task","description":"Get a specific task by it's ID.","operationId":"get_specific_task_tasks__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}/new_status/{new_status}":{"post":{"tags":["tasks"],"summary":"Update Task Status","description":"Update the task status.","operationId":"update_task_status_tasks__task_id__new_status__new_status__post","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"new_status","in":"path","required":true,"schema":{"$ref":"#/components/schemas/TaskStatus"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadTask"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/edit-task-boundary":{"post":{"tags":["tasks"],"summary":"Edit Task Boundary","description":"Update the task boundary manually.","operationId":"edit_task_boundary_tasks_edit_task_boundary_post","parameters":[{"name":"task_id","in":"query","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_edit_task_boundary_tasks_edit_task_boundary_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/tasks-features/":{"get":{"tags":["tasks"],"summary":"Task Features Count","description":"Get all features within a task area.","operationId":"task_features_count_tasks_tasks_features__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/task-comments/":{"get":{"tags":["tasks"],"summary":"Task Comments","description":"Retrieve a list of task comments for a specific project and task.\n\nArgs:\n    project_id (int): The ID of the project.\n    task_id (int): The ID of the task.\n    db (Session, optional): The database session.\n\nReturns:\n    List[tasks_schemas.TaskCommentResponse]: A list of task comments.","operationId":"task_comments_tasks_task_comments__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"task_id","in":"query","required":true,"schema":{"type":"integer","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskCommentResponse"},"title":"Response Task Comments Tasks Task Comments  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tasks"],"summary":"Add Task Comments","description":"Create a new task comment.\n\nParameters:\n    comment (TaskCommentRequest): The task comment to be created.\n    db (Session): The database session.\n    user_data (AuthUser): The authenticated user.\n\nReturns:\n    TaskCommentResponse: The created task comment.","operationId":"add_task_comments_tasks_task_comments__post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCommentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCommentResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/activity/":{"get":{"tags":["tasks"],"summary":"Task Activity","description":"Retrieves the validate and mapped task count for a specific project.\n\nArgs:\n    project_id (int): The ID of the project.\n    days (int): The number of days to consider for the\n        task activity (default: 10).\n    db (Session): The database session.\n\nReturns:\n    list[TaskHistoryCount]: A list of task history counts.","operationId":"task_activity_tasks_activity__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskHistoryCount"},"title":"Response Task Activity Tasks Activity  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/task_history/":{"get":{"tags":["tasks"],"summary":"Task History","description":"Get the detailed task history for a project.\n\nArgs:\n    project_id (int): The ID of the project.\n    days (int): The number of days to consider for the\n        task activity (default: 10).\n    db (Session): The database session.\n\nReturns:\n    List[TaskHistory]: A list of task history.","operationId":"task_history_tasks_task_history__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskHistory"},"title":"Response Task History Tasks Task History  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/projects":{"get":{"tags":["central"],"summary":"List Projects","description":"List projects in Central.","operationId":"list_projects_central_projects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/central/list-forms":{"get":{"tags":["central"],"summary":"Get Form Lists","description":"Get a list of all XForms on ODK Central.\n\nOption to skip a certain number of records and limit the number of\nrecords returned.\n\n\nParameters:\nskip (int): the number of records to skip before starting to retrieve records.\n    Defaults to 0 if not provided.\nlimit (int): the maximum number of records to retrieve.\n    Defaults to 10 if not provided.\n\n\nReturns:\n    list[dict]: list of id:title dicts of each XForm record.","operationId":"get_form_lists_central_list_forms_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/download_submissions":{"get":{"tags":["central"],"summary":"Download Submissions","description":"Download the submissions data from Central.","operationId":"download_submissions_central_download_submissions_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/list-submissions":{"get":{"tags":["central"],"summary":"List Submissions","description":"Get all submissions JSONs for a project.","operationId":"list_submissions_central_list_submissions_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"xml_form_id","in":"query","required":false,"schema":{"type":"string","title":"Xml Form Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response List Submissions Central List Submissions Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/submission":{"get":{"tags":["central"],"summary":"Get Submission","description":"Return the submission JSON for a single XForm.\n\nParameters:\nproject_id (int): the id of the project in the database.\nxml_form_id (str): the xml_form_id of the form in Central.\nsubmission_id (str): the submission id of the submission in Central.\n\nIf the submission_id is provided, an individual submission is returned.\n\nReturns:\n    dict: Submission JSON.","operationId":"get_submission_central_submission_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"xml_form_id","in":"query","required":false,"schema":{"type":"string","title":"Xml Form Id"}},{"name":"submission_id","in":"query","required":false,"schema":{"type":"string","title":"Submission Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Submission Central Submission Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/osm_login/":{"get":{"tags":["auth"],"summary":"Login Url","description":"Get Login URL for OSM Oauth Application.\n\nThe application must be registered on openstreetmap.org.\nOpen the download url returned to get access_token.\n\nArgs:\n    request: The GET request.\n    osm_auth: The Auth object from osm-login-python.\n\nReturns:\n    login_url (string): URL to authorize user in OSM.\n        Includes URL params: client_id, redirect_uri, permission scope.","operationId":"login_url_auth_osm_login__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/callback/":{"get":{"tags":["auth"],"summary":"Callback","description":"Performs oauth token exchange with OpenStreetMap.\n\nProvides an access token that can be used for authenticating other endpoints.\nAlso returns a cookie containing the access token for persistence in frontend apps.\n\nArgs:\n    request: The GET request.\n    request: The response, including a cookie.\n    osm_auth: The Auth object from osm-login-python.\n\nReturns:\n    access_token (string): The access token provided by the login URL request.","operationId":"callback_auth_callback__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/logout/":{"get":{"tags":["auth"],"summary":"Logout","description":"Reset httpOnly cookie to sign out user.","operationId":"logout_auth_logout__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/me/":{"get":{"tags":["auth"],"summary":"My Data","description":"Read access token and get user details from OSM.\n\nArgs:\n    db: The db session.\n    user_data: User data provided by osm-login-python Auth.\n\nReturns:\n    user_data(dict): The dict of user data.","operationId":"my_data_auth_me__get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUser"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/":{"get":{"tags":["submission"],"summary":"Read Submissions","description":"Get all submissions made for a project.\n\nArgs:\n    project_id (int): The ID of the project.\n    task_id (int, optional): The ID of the task.\n        If provided, returns the submissions made for a specific task only.\n    db (Session): The database session, automatically provided.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    list[dict]: The list of submissions.","operationId":"read_submissions_submission__get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"task_id","in":"query","required":false,"schema":{"type":"integer","title":"Task Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Read Submissions Submission  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/download":{"get":{"tags":["submission"],"summary":"Download Submission","description":"Download the submissions for a given project.\n\nReturned as either a JSONResponse, or a file to download.\n\nArgs:\n    project_id (int): The ID of the project.\n    task_id (int, optional): The ID of the task.\n        If provided, returns the submissions made for a specific task only.\n    export_json (bool): Export in JSON format, else returns a file.\n    db (Session): The database session, automatically provided.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    Union[list[dict], File]: JSON of submissions, or submission file.","operationId":"download_submission_submission_download_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"task_id","in":"query","required":false,"schema":{"type":"integer","title":"Task Id"}},{"name":"export_json","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Export Json"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/submission-points":{"get":{"tags":["submission"],"summary":"Submission Points","description":"Get submission points for a given project.\n\nArgs:\n    project_id (int): The ID of the project.\n    task_id (int, optional): The ID of the task.\n        If provided, returns the submissions made for a specific task only.\n    db (Session): The database session, automatically provided.\n    current_user (AuthUser): Check if user is logged in.\n\nReturns:\n    File: a zip containing submission points.","operationId":"submission_points_submission_submission_points_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"task_id","in":"query","required":false,"schema":{"type":"integer","title":"Task Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/convert-to-osm":{"get":{"tags":["submission"],"summary":"Convert To Osm","description":"Convert JSON submissions to OSM XML for a project.\n\nArgs:\n    project_id (int): The ID of the project.\n    task_id (int, optional): The ID of the task.\n        If provided, returns the submissions made for a specific task only.\n    db (Session): The database session, automatically provided.\n    current_user (AuthUser): Check if user is logged in.\n\nReturns:\n    File: an OSM XML of submissions.","operationId":"convert_to_osm_submission_convert_to_osm_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"task_id","in":"query","required":false,"schema":{"type":"integer","title":"Task Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Convert To Osm Submission Convert To Osm Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/get-submission-count/{project_id}":{"get":{"tags":["submission"],"summary":"Get Submission Count","description":"Get the submission count for a project.","operationId":"get_submission_count_submission_get_submission_count__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/conflate_data":{"post":{"tags":["submission"],"summary":"Conflate Osm Data","description":"Conflate submission data against existing OSM data.","operationId":"conflate_osm_data_submission_conflate_data_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/download-submission":{"post":{"tags":["submission"],"summary":"Download Submission Json","description":"Download submissions for a project in JSON format.\n\nTODO check for redundancy with submission/download endpoint and refactor.","operationId":"download_submission_json_submission_download_submission_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"background_task_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Background Task Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/get_osm_xml/{project_id}":{"get":{"tags":["submission"],"summary":"Get Osm Xml","description":"Get the submissions in OSM XML format for a project.\n\nTODO refactor to put logic in crud for easier testing.","operationId":"get_osm_xml_submission_get_osm_xml__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/submission_page/{project_id}":{"get":{"tags":["submission"],"summary":"Get Submission Page","description":"Summary submissison details for submission page.\n\nArgs:\n    background_tasks (BackgroundTasks): FastAPI bg tasks, provided automatically.\n    db (Session): The database session, automatically generated.\n    project_id (int): The ID of the project.\n    days (int): The number of days to consider for fetching submissions.\n    planned_task (int): Associated task id.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    dict: A dictionary containing the submission counts for each date.","operationId":"get_submission_page_submission_submission_page__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"days","in":"query","required":true,"schema":{"type":"integer","title":"Days"}},{"name":"planned_task","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Planned Task"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/submission_form_fields/{project_id}":{"get":{"tags":["submission"],"summary":"Get Submission Form Fields","description":"Retrieves the submission form for a specific project.\n\nArgs:\n    project_id (int): The ID of the project.\n    db (Session): The database session, automatically generated.\n    current_user (AuthUser): Check if user has MAPPER permission.\n\nReturns:\n    Any: The response from the submission form API.","operationId":"get_submission_form_fields_submission_submission_form_fields__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/submission_table/{project_id}":{"get":{"tags":["submission"],"summary":"Submission Table","description":"This api returns the submission table of a project.\n\nIt takes two parameter: project_id and task_id.\n\nproject_id: The ID of the project.\n\ntask_id: The ID of the task.","operationId":"submission_table_submission_submission_table__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Results Per Page"}},{"name":"submitted_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted By"}},{"name":"review_state","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Review State"}},{"name":"submitted_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted Date","description":"Date in format (e.g., 'YYYY-MM-DD')"},"description":"Date in format (e.g., 'YYYY-MM-DD')"},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/task_submissions/{project_id}":{"get":{"tags":["submission"],"summary":"Task Submissions","description":"This api returns the submission table of a project.\n\nIt takes two parameter: project_id and task_id.\n\nproject_id: The ID of the project.\n\ntask_id: The ID of the task.","operationId":"task_submissions_submission_task_submissions__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"task_id","in":"query","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Limit"}},{"name":"submitted_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted By"}},{"name":"review_state","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Review State"}},{"name":"submitted_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted Date","description":"Date in format (e.g., 'YYYY-MM-DD')"},"description":"Date in format (e.g., 'YYYY-MM-DD')"},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/":{"get":{"tags":["organisation"],"summary":"Get Organisations","description":"Get a list of all organisations.","operationId":"get_organisations_organisation__get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationOut"},"title":"Response Get Organisations Organisation  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["organisation"],"summary":"Create Organisation","description":"Create an organisation with the given details.\n\nTODO refactor to use base64 encoded logo / no upload file.\nTODO then we can use the pydantic model as intended.","operationId":"create_organisation_organisation__post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_organisation_organisation__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/my-organisations":{"get":{"tags":["organisation"],"summary":"Get My Organisations","description":"Get a list of all organisations.","operationId":"get_my_organisations_organisation_my_organisations_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationOut"},"title":"Response Get My Organisations Organisation My Organisations Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/unapproved/":{"get":{"tags":["organisation"],"summary":"List Unapproved Organisations","description":"Get a list of all organisations.","operationId":"list_unapproved_organisations_organisation_unapproved__get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationOut"},"title":"Response List Unapproved Organisations Organisation Unapproved  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/unapproved/{org_id}":{"get":{"tags":["organisation"],"summary":"Unapproved Org Detail","description":"Get a detail of an unapproved organisations.","operationId":"unapproved_org_detail_organisation_unapproved__org_id__get","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/{org_id}":{"get":{"tags":["organisation"],"summary":"Get Organisation Detail","description":"Get a specific organisation by id or name.","operationId":"get_organisation_detail_organisation__org_id__get","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"integer"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["organisation"],"summary":"Delete Organisations","description":"Delete an organisation.","operationId":"delete_organisations_organisation__org_id__delete","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/{org_id}/":{"patch":{"tags":["organisation"],"summary":"Update Organisation","description":"Partial update for an existing organisation.","operationId":"update_organisation_organisation__org_id___patch","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_update_organisation_organisation__org_id___patch"}],"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/approve/":{"post":{"tags":["organisation"],"summary":"Approve Organisation","description":"Approve the organisation request made by the user.\n\nThe logged in user must be super admin to perform this action .","operationId":"approve_organisation_organisation_approve__post","parameters":[{"name":"org_id","in":"query","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/add_admin/":{"post":{"tags":["organisation"],"summary":"Add New Organisation Admin","description":"Add a new organisation admin.\n\nThe logged in user must be either the owner of the organisation or a super admin.","operationId":"add_new_organisation_admin_organisation_add_admin__post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"integer"}],"title":"User Id"}},{"name":"org_id","in":"query","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"integer"}],"title":"Org Id"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"type":"string","title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Home","description":"Redirect home to docs.","operationId":"home__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AuthUser":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"img_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Img Url"},"role":{"anyOf":[{"$ref":"#/components/schemas/UserRole"},{"type":"null"}],"default":0}},"type":"object","required":["id","username"],"title":"AuthUser","description":"The user model returned from OSM OAuth2."},"BackgroundTaskStatus":{"properties":{"status":{"type":"string","title":"Status"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["status"],"title":"BackgroundTaskStatus","description":"Background task status for project related tasks."},"BaseModel":{"properties":{},"type":"object","title":"BaseModel","description":"Usage docs: https://docs.pydantic.dev/2.5/concepts/models/\n\nA base class for creating Pydantic models.\n\nAttributes:\n    __class_vars__: The names of classvars defined on the model.\n    __private_attributes__: Metadata about the private attributes of the model.\n    __signature__: The signature for instantiating the model.\n\n    __pydantic_complete__: Whether model building is completed, or if there are still undefined fields.\n    __pydantic_core_schema__: The pydantic-core schema used to build the SchemaValidator and SchemaSerializer.\n    __pydantic_custom_init__: Whether the model has a custom `__init__` function.\n    __pydantic_decorators__: Metadata containing the decorators defined on the model.\n        This replaces `Model.__validators__` and `Model.__root_validators__` from Pydantic V1.\n    __pydantic_generic_metadata__: Metadata for generic models; contains data used for a similar purpose to\n        __args__, __origin__, __parameters__ in typing-module generics. May eventually be replaced by these.\n    __pydantic_parent_namespace__: Parent namespace of the model, used for automatic rebuilding of models.\n    __pydantic_post_init__: The name of the post-init method for the model, if defined.\n    __pydantic_root_model__: Whether the model is a `RootModel`.\n    __pydantic_serializer__: The pydantic-core SchemaSerializer used to dump instances of the model.\n    __pydantic_validator__: The pydantic-core SchemaValidator used to validate instances of the model.\n\n    __pydantic_extra__: An instance attribute with the values of extra fields from validation when\n        `model_config['extra'] == 'allow'`.\n    __pydantic_fields_set__: An instance attribute with the names of fields explicitly set.\n    __pydantic_private__: Instance attribute with the values of private attributes set on the model instance."},"Body_create_organisation_organisation__post":{"properties":{"logo":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Logo"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url","description":"ODK Central URL"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User","description":"ODK Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password","description":"ODK Central Password"},"name":{"type":"string","title":"Name","description":"Organisation name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Organisation description"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"Organisation website URL"},"community_type":{"anyOf":[{"$ref":"#/components/schemas/CommunityType"},{"type":"null"}],"description":"Organisation community type"}},"type":"object","required":["name"],"title":"Body_create_organisation_organisation__post"},"Body_edit_project_boundary_projects_edit_project_boundary__project_id___post":{"properties":{"boundary_geojson":{"type":"string","format":"binary","title":"Boundary Geojson"},"dimension":{"type":"integer","title":"Dimension","default":500}},"type":"object","required":["boundary_geojson"],"title":"Body_edit_project_boundary_projects_edit_project_boundary__project_id___post"},"Body_edit_task_boundary_tasks_edit_task_boundary_post":{"properties":{"boundary":{"type":"string","format":"binary","title":"Boundary"}},"type":"object","required":["boundary"],"title":"Body_edit_task_boundary_tasks_edit_task_boundary_post"},"Body_generate_files_projects__project_id__generate_project_data_post":{"properties":{"xls_form_upload":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Xls Form Upload"}},"type":"object","title":"Body_generate_files_projects__project_id__generate_project_data_post"},"Body_get_data_extract_projects_generate_data_extract__post":{"properties":{"geojson_file":{"type":"string","format":"binary","title":"Geojson File"},"form_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Form Category"}},"type":"object","required":["geojson_file"],"title":"Body_get_data_extract_projects_generate_data_extract__post"},"Body_preview_split_by_square_projects_preview_split_by_square__post":{"properties":{"project_geojson":{"type":"string","format":"binary","title":"Project Geojson"},"dimension":{"type":"integer","title":"Dimension","default":100}},"type":"object","required":["project_geojson"],"title":"Body_preview_split_by_square_projects_preview_split_by_square__post"},"Body_task_split_projects_task_split_post":{"properties":{"project_geojson":{"type":"string","format":"binary","title":"Project Geojson"},"extract_geojson":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Extract Geojson"},"no_of_buildings":{"type":"integer","title":"No Of Buildings","default":50}},"type":"object","required":["project_geojson"],"title":"Body_task_split_projects_task_split_post"},"Body_update_organisation_organisation__org_id___patch":{"properties":{"logo":{"type":"string","format":"binary","title":"Logo"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url","description":"ODK Central URL"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User","description":"ODK Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password","description":"ODK Central Password"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Organisation description"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"Organisation website URL"},"community_type":{"anyOf":[{"$ref":"#/components/schemas/CommunityType"},{"type":"null"}],"description":"Organisation community type"}},"type":"object","title":"Body_update_organisation_organisation__org_id___patch"},"Body_update_project_category_projects_update_category_post":{"properties":{"category":{"type":"string","title":"Category"},"upload":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Upload"}},"type":"object","required":["category"],"title":"Body_update_project_category_projects_update_category_post"},"Body_update_project_form_projects_update_form__project_id__post":{"properties":{"form":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Form"}},"type":"object","required":["form"],"title":"Body_update_project_form_projects_update_form__project_id__post"},"Body_upload_custom_extract_projects_upload_custom_extract__post":{"properties":{"custom_extract_file":{"type":"string","format":"binary","title":"Custom Extract File"}},"type":"object","required":["custom_extract_file"],"title":"Body_upload_custom_extract_projects_upload_custom_extract__post"},"Body_upload_custom_xls_projects_upload_xlsform_post":{"properties":{"upload":{"type":"string","format":"binary","title":"Upload"},"category":{"type":"string","title":"Category"}},"type":"object","required":["upload","category"],"title":"Body_upload_custom_xls_projects_upload_xlsform_post"},"Body_upload_project_boundary_projects__project_id__upload_post":{"properties":{"boundary_geojson":{"type":"string","format":"binary","title":"Boundary Geojson"},"dimension":{"type":"integer","title":"Dimension","default":500}},"type":"object","required":["boundary_geojson"],"title":"Body_upload_project_boundary_projects__project_id__upload_post"},"Body_upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post":{"properties":{"task_geojson":{"type":"string","format":"binary","title":"Task Geojson"}},"type":"object","required":["task_geojson"],"title":"Body_upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post"},"Body_validate_form_projects_validate_form_post":{"properties":{"form":{"type":"string","format":"binary","title":"Form"}},"type":"object","required":["form"],"title":"Body_validate_form_projects_validate_form_post"},"CommunityType":{"type":"integer","enum":[0,1,2,3,4],"title":"CommunityType","description":"Enum describing community type."},"Feature-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"Feature","title":"Type"},"geometry":{"anyOf":[{"oneOf":[{"$ref":"#/components/schemas/Point-Input"},{"$ref":"#/components/schemas/MultiPoint-Input"},{"$ref":"#/components/schemas/LineString-Input"},{"$ref":"#/components/schemas/MultiLineString-Input"},{"$ref":"#/components/schemas/Polygon-Input"},{"$ref":"#/components/schemas/MultiPolygon-Input"},{"$ref":"#/components/schemas/GeometryCollection-Input"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Input","LineString":"#/components/schemas/LineString-Input","MultiLineString":"#/components/schemas/MultiLineString-Input","MultiPoint":"#/components/schemas/MultiPoint-Input","MultiPolygon":"#/components/schemas/MultiPolygon-Input","Point":"#/components/schemas/Point-Input","Polygon":"#/components/schemas/Polygon-Input"}}},{"type":"null"}],"title":"Geometry"},"properties":{"anyOf":[{"type":"object"},{"$ref":"#/components/schemas/BaseModel"},{"type":"null"}],"title":"Properties"},"id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Id"}},"type":"object","required":["type","geometry","properties"],"title":"Feature","description":"Feature Model"},"Feature-Output":{"type":"object","title":"Feature","description":"Feature Model"},"FeatureCollection":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"FeatureCollection","title":"Type"},"features":{"items":{"$ref":"#/components/schemas/Feature-Input"},"type":"array","title":"Features"}},"type":"object","required":["type","features"],"title":"FeatureCollection","description":"FeatureCollection Model"},"GeojsonFeature":{"properties":{"id":{"type":"integer","title":"Id"},"geometry":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}]}},"type":"object","required":["id"],"title":"GeojsonFeature","description":"Features used for Task definitions."},"GeometryCollection-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"GeometryCollection","title":"Type"},"geometries":{"items":{"oneOf":[{"$ref":"#/components/schemas/Point-Input"},{"$ref":"#/components/schemas/MultiPoint-Input"},{"$ref":"#/components/schemas/LineString-Input"},{"$ref":"#/components/schemas/MultiLineString-Input"},{"$ref":"#/components/schemas/Polygon-Input"},{"$ref":"#/components/schemas/MultiPolygon-Input"},{"$ref":"#/components/schemas/GeometryCollection-Input"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Input","LineString":"#/components/schemas/LineString-Input","MultiLineString":"#/components/schemas/MultiLineString-Input","MultiPoint":"#/components/schemas/MultiPoint-Input","MultiPolygon":"#/components/schemas/MultiPolygon-Input","Point":"#/components/schemas/Point-Input","Polygon":"#/components/schemas/Polygon-Input"}}},"type":"array","title":"Geometries"}},"type":"object","required":["type","geometries"],"title":"GeometryCollection","description":"GeometryCollection Model"},"GeometryCollection-Output":{"type":"object","title":"GeometryCollection","description":"GeometryCollection Model"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LineString-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"LineString","title":"Type"},"coordinates":{"items":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3}]},"type":"array","minItems":2,"title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"LineString","description":"LineString Model"},"LineString-Output":{"type":"object","title":"LineString","description":"LineString Model"},"MultiLineString-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"MultiLineString","title":"Type"},"coordinates":{"items":{"items":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3}]},"type":"array","minItems":2},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"MultiLineString","description":"MultiLineString Model"},"MultiLineString-Output":{"type":"object","title":"MultiLineString","description":"MultiLineString Model"},"MultiPoint-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"MultiPoint","title":"Type"},"coordinates":{"items":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3}]},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"MultiPoint","description":"MultiPoint Model"},"MultiPoint-Output":{"type":"object","title":"MultiPoint","description":"MultiPoint Model"},"MultiPolygon-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"MultiPolygon","title":"Type"},"coordinates":{"items":{"items":{"items":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3}]},"type":"array","minItems":4},"type":"array"},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"MultiPolygon","description":"MultiPolygon Model"},"MultiPolygon-Output":{"type":"object","title":"MultiPolygon","description":"MultiPolygon Model"},"OrganisationOut":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"approved":{"type":"boolean","title":"Approved"},"type":{"$ref":"#/components/schemas/OrganisationType"},"logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"}},"type":"object","required":["id","name","approved","type","logo","description","slug","url","odk_central_url"],"title":"OrganisationOut","description":"Organisation to display to user."},"OrganisationType":{"type":"integer","enum":[1,2,3],"title":"OrganisationType","description":"Describes an organisation's subscription type."},"PaginatedProjectSummaries":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ProjectSummary"},"type":"array","title":"Results"},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}},"type":"object","required":["results","pagination"],"title":"PaginatedProjectSummaries","description":"Project summaries + Pagination info."},"PaginationInfo":{"properties":{"has_next":{"type":"boolean","title":"Has Next"},"has_prev":{"type":"boolean","title":"Has Prev"},"next_num":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Next Num"},"page":{"type":"integer","title":"Page"},"pages":{"type":"integer","title":"Pages"},"prev_num":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prev Num"},"per_page":{"type":"integer","title":"Per Page"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["has_next","has_prev","next_num","page","pages","prev_num","per_page","total"],"title":"PaginationInfo","description":"Pagination JSON return."},"Point-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"Point","title":"Type"},"coordinates":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3}],"title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"Point","description":"Point Model"},"Point-Output":{"type":"object","title":"Point","description":"Point Model"},"Polygon-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"const":"Polygon","title":"Type"},"coordinates":{"items":{"items":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3}]},"type":"array","minItems":4},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"Polygon","description":"Polygon Model"},"Polygon-Output":{"type":"object","title":"Polygon","description":"Polygon Model"},"ProjectDashboard":{"properties":{"project_name_prefix":{"type":"string","title":"Project Name Prefix"},"organisation_name":{"type":"string","title":"Organisation Name"},"total_tasks":{"type":"integer","title":"Total Tasks"},"created":{"type":"string","format":"date-time","title":"Created"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"total_submission":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submission"},"total_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Contributors"},"last_active":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"}},"type":"object","required":["project_name_prefix","organisation_name","total_tasks","created"],"title":"ProjectDashboard","description":"Project details dashboard."},"ProjectInfo":{"properties":{"name":{"type":"string","title":"Name"},"short_description":{"type":"string","title":"Short Description"},"description":{"type":"string","title":"Description"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"}},"type":"object","required":["name","short_description","description"],"title":"ProjectInfo","description":"Basic project info."},"ProjectOut":{"properties":{"id":{"type":"integer","title":"Id"},"odkid":{"type":"integer","title":"Odkid"},"author":{"$ref":"#/components/schemas/User"},"project_info":{"$ref":"#/components/schemas/ProjectInfo"},"status":{"$ref":"#/components/schemas/ProjectStatus"},"project_tasks":{"anyOf":[{"items":{"$ref":"#/components/schemas/Task"},"type":"array"},{"type":"null"}],"title":"Project Tasks"},"xform_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Xform Title"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"project_uuid":{"type":"string","format":"uuid","title":"Project Uuid","default":"860be5b0-d862-4b0f-bc6f-32a07971acc2"},"outline_geojson":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}],"description":"Compute the geojson outline from WKBElement outline.","readOnly":true}},"type":"object","required":["id","odkid","author","project_info","status","project_tasks","outline_geojson"],"title":"ProjectOut","description":"Project display to user."},"ProjectPartialUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"}},"type":"object","title":"ProjectPartialUpdate","description":"Update projects metadata."},"ProjectPriority":{"type":"integer","enum":[0,1,2,3],"title":"ProjectPriority","description":"Enum to describe all possible project priority levels."},"ProjectStatus":{"type":"integer","enum":[0,1,2],"title":"ProjectStatus","description":"Enum to describes all possible states of a Mapping Project."},"ProjectSummary":{"properties":{"id":{"type":"integer","title":"Id","default":-1},"priority":{"allOf":[{"$ref":"#/components/schemas/ProjectPriority"}],"default":2},"priority_str":{"type":"string","title":"Priority Str","default":"MEDIUM"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks"},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped"},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors"},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated"},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"}},"type":"object","title":"ProjectSummary","description":"Project summaries."},"ProjectUpdate":{"properties":{"project_info":{"$ref":"#/components/schemas/ProjectInfo"},"xform_title":{"type":"string","title":"Xform Title"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"data_extract_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Type"},"outline_geojson":{"anyOf":[{"$ref":"#/components/schemas/FeatureCollection"},{"$ref":"#/components/schemas/Feature-Input"},{"$ref":"#/components/schemas/Polygon-Input"}],"title":"Outline Geojson"}},"type":"object","required":["project_info","xform_title","outline_geojson"],"title":"ProjectUpdate","description":"Update project."},"ProjectUpload":{"properties":{"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"},"project_info":{"$ref":"#/components/schemas/ProjectInfo"},"xform_title":{"type":"string","title":"Xform Title"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"data_extract_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Type"},"outline_geojson":{"anyOf":[{"$ref":"#/components/schemas/FeatureCollection"},{"$ref":"#/components/schemas/Feature-Input"},{"$ref":"#/components/schemas/Polygon-Input"}],"title":"Outline Geojson"}},"type":"object","required":["project_info","xform_title","outline_geojson"],"title":"ProjectUpload","description":"Project upload details, plus ODK credentials."},"ReadProject":{"properties":{"id":{"type":"integer","title":"Id"},"odkid":{"type":"integer","title":"Odkid"},"author":{"$ref":"#/components/schemas/User"},"project_info":{"$ref":"#/components/schemas/ProjectInfo"},"status":{"$ref":"#/components/schemas/ProjectStatus"},"project_tasks":{"anyOf":[{"items":{"$ref":"#/components/schemas/Task"},"type":"array"},{"type":"null"}],"title":"Project Tasks"},"xform_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Xform Title"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"project_uuid":{"type":"string","format":"uuid","title":"Project Uuid","default":"e8547760-dcb3-4f99-b5b5-e6d6af5297fb"},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"outline_geojson":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}],"description":"Compute the geojson outline from WKBElement outline.","readOnly":true}},"type":"object","required":["id","odkid","author","project_info","status","project_tasks","outline_geojson"],"title":"ReadProject","description":"Redundant model for refactor."},"ReadTask":{"properties":{"id":{"type":"integer","title":"Id"},"project_id":{"type":"integer","title":"Project Id"},"project_task_index":{"type":"integer","title":"Project Task Index"},"project_task_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Task Name"},"outline_geojson":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}]},"outline_centroid":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}]},"initial_feature_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Initial Feature Count"},"task_status":{"$ref":"#/components/schemas/TaskStatus"},"locked_by_uid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locked By Uid"},"locked_by_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locked By Username"},"task_history":{"anyOf":[{"items":{"$ref":"#/components/schemas/TaskHistoryOut"},"type":"array"},{"type":"null"}],"title":"Task History"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"}},"type":"object","required":["id","project_id","project_task_index","project_task_name","task_status"],"title":"ReadTask","description":"Task details plus updated task history."},"Task":{"properties":{"id":{"type":"integer","title":"Id"},"project_id":{"type":"integer","title":"Project Id"},"project_task_index":{"type":"integer","title":"Project Task Index"},"project_task_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Task Name"},"outline_geojson":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}]},"outline_centroid":{"anyOf":[{"$ref":"#/components/schemas/Feature-Output"},{"type":"null"}]},"initial_feature_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Initial Feature Count"},"task_status":{"$ref":"#/components/schemas/TaskStatus"},"locked_by_uid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locked By Uid"},"locked_by_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locked By Username"},"task_history":{"anyOf":[{"items":{"$ref":"#/components/schemas/TaskHistoryBase"},"type":"array"},{"type":"null"}],"title":"Task History"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"}},"type":"object","required":["id","project_id","project_task_index","project_task_name","task_status"],"title":"Task","description":"Core fields for a Task."},"TaskCommentRequest":{"properties":{"task_id":{"type":"integer","title":"Task Id"},"project_id":{"type":"integer","title":"Project Id"},"comment":{"type":"string","title":"Comment"}},"type":"object","required":["task_id","project_id","comment"],"title":"TaskCommentRequest","description":"Task mapping history."},"TaskCommentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"task_id":{"type":"integer","title":"Task Id"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"commented_by":{"type":"string","title":"Commented By"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","task_id","commented_by","created_at"],"title":"TaskCommentResponse","description":"Task mapping history."},"TaskHistory":{"properties":{"task_id":{"type":"integer","title":"Task Id"},"action_text":{"type":"string","title":"Action Text"},"action_date":{"type":"string","format":"date-time","title":"Action Date"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username","description":"Get username from user db obj.","readOnly":true},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img","description":"Get profile_img from user db obj.","readOnly":true},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Extract status from standard format action_text.","readOnly":true}},"type":"object","required":["task_id","action_text","action_date","username","profile_img","status"],"title":"TaskHistory","description":"Task history details."},"TaskHistoryBase":{"properties":{"id":{"type":"integer","title":"Id"},"action_text":{"type":"string","title":"Action Text"},"action_date":{"type":"string","format":"date-time","title":"Action Date"}},"type":"object","required":["id","action_text","action_date"],"title":"TaskHistoryBase","description":"Task mapping history."},"TaskHistoryCount":{"properties":{"date":{"type":"string","title":"Date"},"validated":{"type":"integer","title":"Validated"},"mapped":{"type":"integer","title":"Mapped"}},"type":"object","required":["date","validated","mapped"],"title":"TaskHistoryCount","description":"Task mapping history display."},"TaskHistoryOut":{"properties":{"id":{"type":"integer","title":"Id"},"action_text":{"type":"string","title":"Action Text"},"action_date":{"type":"string","format":"date-time","title":"Action Date"},"status":{"type":"string","title":"Status"},"username":{"type":"string","title":"Username"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"}},"type":"object","required":["id","action_text","action_date","status","username","profile_img"],"title":"TaskHistoryOut","description":"Task mapping history display."},"TaskSplitType":{"type":"integer","enum":[0,1,2],"title":"TaskSplitType","description":"Enum describing task splitting type."},"TaskStatus":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"title":"TaskStatus","description":"Enum describing available Task Statuses."},"User":{"properties":{"username":{"type":"string","title":"Username"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["username","id"],"title":"User","description":"User with ID."},"UserOut":{"properties":{"username":{"type":"string","title":"Username"},"id":{"type":"integer","title":"Id"},"role":{"$ref":"#/components/schemas/UserRole"}},"type":"object","required":["username","id","role"],"title":"UserOut","description":"User with ID and role."},"UserRole":{"type":"integer","enum":[-1,0,1],"title":"UserRole","description":"Available roles assigned to a user site-wide in FMTM.\n\nCan be used for global user permissions:\n    - READ_ONLY = write access blocked (i.e. banned)\n    - MAPPER = default for all\n    - ADMIN = super admin with access to everything"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}